<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Sun Jan 07 20:24:24 CET 2018 -->
<title>StaticBuffers (bson4jackson 2.9.0 API)</title>
<meta name="date" content="2018-01-07">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="StaticBuffers (bson4jackson 2.9.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../de/undercouch/bson4jackson/io/StaticBufferedInputStream.html" title="class in de.undercouch.bson4jackson.io"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.Key.html" title="enum in de.undercouch.bson4jackson.io"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?de/undercouch/bson4jackson/io/StaticBuffers.html" target="_top">Frames</a></li>
<li><a href="StaticBuffers.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">de.undercouch.bson4jackson.io</div>
<h2 title="Class StaticBuffers" class="title">Class StaticBuffers</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>de.undercouch.bson4jackson.io.StaticBuffers</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">StaticBuffers</span>
extends java.lang.Object</pre>
<div class="block">Keeps thread-local re-usable buffers. Each buffer is identified by a key.
 This class is a singleton, whereas the reference to the instance is hold
 in a <code>SoftReference</code> so buffers can be freed when they are not needed
 anymore.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><code>BufferRecycler</code></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.Key.html" title="enum in de.undercouch.bson4jackson.io">StaticBuffers.Key</a></strong></code>
<div class="block">Possible buffer keys</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.nio.ByteBuffer[]</code></td>
<td class="colLast"><code><strong><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#_byteBuffers">_byteBuffers</a></strong></code>
<div class="block">Maps of already allocated re-usable buffers</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.nio.CharBuffer[]</code></td>
<td class="colLast"><code><strong><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#_charBuffers">_charBuffers</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.lang.ThreadLocal&lt;java.lang.ref.SoftReference&lt;<a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html" title="class in de.undercouch.bson4jackson.io">StaticBuffers</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#_instance">_instance</a></strong></code>
<div class="block">A thread-local soft reference to the singleton instance of this class</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#GLOBAL_MIN_SIZE">GLOBAL_MIN_SIZE</a></strong></code>
<div class="block">All buffers have a minimum size of 64 kb</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#StaticBuffers()">StaticBuffers</a></strong>()</code>
<div class="block">Hidden constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.nio.ByteBuffer</code></td>
<td class="colLast"><code><strong><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#byteBuffer(de.undercouch.bson4jackson.io.StaticBuffers.Key,%20int)">byteBuffer</a></strong>(<a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.Key.html" title="enum in de.undercouch.bson4jackson.io">StaticBuffers.Key</a>&nbsp;key,
          int&nbsp;minSize)</code>
<div class="block">Creates or re-uses a <code>ByteBuffer</code> that has a minimum size.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.nio.CharBuffer</code></td>
<td class="colLast"><code><strong><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#charBuffer(de.undercouch.bson4jackson.io.StaticBuffers.Key,%20int)">charBuffer</a></strong>(<a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.Key.html" title="enum in de.undercouch.bson4jackson.io">StaticBuffers.Key</a>&nbsp;key,
          int&nbsp;minSize)</code>
<div class="block">Creates or re-uses a <code>CharBuffer</code> that has a minimum size.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html" title="class in de.undercouch.bson4jackson.io">StaticBuffers</a></code></td>
<td class="colLast"><code><strong><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#getInstance()">getInstance</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#releaseByteBuffer(de.undercouch.bson4jackson.io.StaticBuffers.Key,%20java.nio.ByteBuffer)">releaseByteBuffer</a></strong>(<a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.Key.html" title="enum in de.undercouch.bson4jackson.io">StaticBuffers.Key</a>&nbsp;key,
                 java.nio.ByteBuffer&nbsp;buf)</code>
<div class="block">Marks a buffer a being re-usable.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#releaseCharBuffer(de.undercouch.bson4jackson.io.StaticBuffers.Key,%20java.nio.CharBuffer)">releaseCharBuffer</a></strong>(<a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.Key.html" title="enum in de.undercouch.bson4jackson.io">StaticBuffers.Key</a>&nbsp;key,
                 java.nio.CharBuffer&nbsp;buf)</code>
<div class="block">Marks a buffer a being re-usable.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="GLOBAL_MIN_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GLOBAL_MIN_SIZE</h4>
<pre>public static final&nbsp;int GLOBAL_MIN_SIZE</pre>
<div class="block">All buffers have a minimum size of 64 kb</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#de.undercouch.bson4jackson.io.StaticBuffers.GLOBAL_MIN_SIZE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="_instance">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_instance</h4>
<pre>protected static final&nbsp;java.lang.ThreadLocal&lt;java.lang.ref.SoftReference&lt;<a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html" title="class in de.undercouch.bson4jackson.io">StaticBuffers</a>&gt;&gt; _instance</pre>
<div class="block">A thread-local soft reference to the singleton instance of this class</div>
</li>
</ul>
<a name="_byteBuffers">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_byteBuffers</h4>
<pre>protected&nbsp;java.nio.ByteBuffer[] _byteBuffers</pre>
<div class="block">Maps of already allocated re-usable buffers</div>
</li>
</ul>
<a name="_charBuffers">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_charBuffers</h4>
<pre>protected&nbsp;java.nio.CharBuffer[] _charBuffers</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="StaticBuffers()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>StaticBuffers</h4>
<pre>protected&nbsp;StaticBuffers()</pre>
<div class="block">Hidden constructor</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html" title="class in de.undercouch.bson4jackson.io">StaticBuffers</a>&nbsp;getInstance()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>a thread-local singleton instance of this class</dd></dl>
</li>
</ul>
<a name="charBuffer(de.undercouch.bson4jackson.io.StaticBuffers.Key, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>charBuffer</h4>
<pre>public&nbsp;java.nio.CharBuffer&nbsp;charBuffer(<a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.Key.html" title="enum in de.undercouch.bson4jackson.io">StaticBuffers.Key</a>&nbsp;key,
                             int&nbsp;minSize)</pre>
<div class="block">Creates or re-uses a <code>CharBuffer</code> that has a minimum size. Calling
 this method multiple times with the same key will always return the
 same buffer, as long as it has the minimum size and is marked to be
 re-used. Buffers that are allowed to be re-used should be released using
 <a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#releaseCharBuffer(de.undercouch.bson4jackson.io.StaticBuffers.Key,%20java.nio.CharBuffer)"><code>releaseCharBuffer(Key, CharBuffer)</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the buffer's identifier</dd><dd><code>minSize</code> - the minimum size</dd>
<dt><span class="strong">Returns:</span></dt><dd>the <code>CharBuffer</code> instance</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#byteBuffer(de.undercouch.bson4jackson.io.StaticBuffers.Key,%20int)"><code>byteBuffer(Key, int)</code></a></dd></dl>
</li>
</ul>
<a name="releaseCharBuffer(de.undercouch.bson4jackson.io.StaticBuffers.Key, java.nio.CharBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseCharBuffer</h4>
<pre>public&nbsp;void&nbsp;releaseCharBuffer(<a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.Key.html" title="enum in de.undercouch.bson4jackson.io">StaticBuffers.Key</a>&nbsp;key,
                     java.nio.CharBuffer&nbsp;buf)</pre>
<div class="block">Marks a buffer a being re-usable.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the buffer's key</dd><dd><code>buf</code> - the buffer</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#releaseByteBuffer(de.undercouch.bson4jackson.io.StaticBuffers.Key,%20java.nio.ByteBuffer)"><code>releaseByteBuffer(Key, ByteBuffer)</code></a></dd></dl>
</li>
</ul>
<a name="byteBuffer(de.undercouch.bson4jackson.io.StaticBuffers.Key, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>byteBuffer</h4>
<pre>public&nbsp;java.nio.ByteBuffer&nbsp;byteBuffer(<a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.Key.html" title="enum in de.undercouch.bson4jackson.io">StaticBuffers.Key</a>&nbsp;key,
                             int&nbsp;minSize)</pre>
<div class="block">Creates or re-uses a <code>ByteBuffer</code> that has a minimum size. Calling
 this method multiple times with the same key will always return the
 same buffer, as long as it has the minimum size and is marked to be
 re-used. Buffers that are allowed to be re-used should be released using
 <a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#releaseByteBuffer(de.undercouch.bson4jackson.io.StaticBuffers.Key,%20java.nio.ByteBuffer)"><code>releaseByteBuffer(Key, ByteBuffer)</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the buffer's identifier</dd><dd><code>minSize</code> - the minimum size</dd>
<dt><span class="strong">Returns:</span></dt><dd>the <code>ByteBuffer</code> instance</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#charBuffer(de.undercouch.bson4jackson.io.StaticBuffers.Key,%20int)"><code>charBuffer(Key, int)</code></a></dd></dl>
</li>
</ul>
<a name="releaseByteBuffer(de.undercouch.bson4jackson.io.StaticBuffers.Key, java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>releaseByteBuffer</h4>
<pre>public&nbsp;void&nbsp;releaseByteBuffer(<a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.Key.html" title="enum in de.undercouch.bson4jackson.io">StaticBuffers.Key</a>&nbsp;key,
                     java.nio.ByteBuffer&nbsp;buf)</pre>
<div class="block">Marks a buffer a being re-usable.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - the buffer's key</dd><dd><code>buf</code> - the buffer</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.html#releaseCharBuffer(de.undercouch.bson4jackson.io.StaticBuffers.Key,%20java.nio.CharBuffer)"><code>releaseCharBuffer(Key, CharBuffer)</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../de/undercouch/bson4jackson/io/StaticBufferedInputStream.html" title="class in de.undercouch.bson4jackson.io"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../de/undercouch/bson4jackson/io/StaticBuffers.Key.html" title="enum in de.undercouch.bson4jackson.io"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?de/undercouch/bson4jackson/io/StaticBuffers.html" target="_top">Frames</a></li>
<li><a href="StaticBuffers.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
